import{u as D,Y as T,w as H,i as M,Z as B,$ as R,a0 as V,a1 as G,a2 as W,a3 as Z,g as J,h as O}from"./app.DNo6EpXn.js";import{M as m,u as c,aL as o,v as r,aY as S,bR as q,t as u,aU as b,aD as I,bb as g,s as y,bJ as x,au as h,aw as E,bk as l,F as k,aX as P,I as i,g as N,q as w,aZ as U}from"./framework.CNV3Xz51.js";import"./chunks/dayjs.o6Yvz3Rh.js";import{g as j}from"./animation.CRnr8fw5.js";import{a as X}from"./chunks/vue-router.Bri7Tm3H.js";import"./chunks/vue-i18n.B3U7zzgP.js";import"./chunks/pinia.BouEHZ11.js";import"./chunks/@vueuse/motion.BVRzfI4R.js";import"./chunks/nprogress.BWxlRuO9.js";const K={class:"w-full px-4 flex-center"},Q={class:"yun-notice w-full"},ee=["innerHTML"],te=m({__name:"YunNotice",props:{content:{}},setup(a){return(e,t)=>(o(),c("div",K,[r("div",Q,[r("span",{innerHTML:a.content},null,8,ee),S(e.$slots,"default")])]))}}),ne={},se={class:"grid-bg"};function oe(a,e){return o(),c("div",se,[u(" <YunAEFrame /> "),u(" <YunAERect /> ")])}const ae=q(ne,[["render",oe]]),re={class:"say"},ce={key:0,class:"say-content animate-fade-in animate-iteration-1"},ie={key:1,class:"say-author"},le={key:2,class:"say-from"},ue=m({__name:"YunSay",setup(a){const e=D(),t=b(""),n=b(""),s=b("");function f(){const _=e.value.say.hitokoto.enable?e.value.say.hitokoto.api:e.value.say.api;_&&fetch(_).then(d=>{if(d.ok)d.json().then(v=>{if(e.value.say.hitokoto.enable)t.value=v.hitokoto,n.value=v.from_who,s.value=v.from;else{const p=v[Math.floor(Math.random()*v.length)];p.content?(t.value=p.content,n.value=p.author,s.value=p.from):t.value=p}});else throw new Error(`${e.value.say.api}, HTTP error, status = ${d.status}`)}).catch(d=>{console.error(d.message)})}return I(()=>{f()}),(_,d)=>(o(),c("div",re,[t.value?(o(),c("span",ce,g(t.value),1)):u("v-if",!0),n.value?(o(),c("span",ie,g(n.value),1)):u("v-if",!0),s.value?(o(),c("span",le,g(s.value),1)):u("v-if",!0)]))}}),_e=m({__name:"YunSiteLinkItem",props:{page:{}},setup(a){const e=T();return(t,n)=>{const s=H;return o(),y(s,{class:"link-item inline-flex-center gap-2 transition rounded-lg text-xl p-2 md:text-lg md:p-2 lg:text-xl lg:p-3 text-$va-c-text",bg:"white/5 dark:black/5","inline-flex":"",to:a.page.url,title:a.page.name,style:E(`color:${a.page.color}`),hover:"bg-white/80 dark:bg-black/80",onClick:n[0]||(n[0]=f=>l(e).fullscreenMenu.isOpen=!1)},{default:x(()=>[r("div",{class:h([a.page.icon,"icon"])},null,2),r("span",null,g(a.page.name),1)]),_:1},8,["to","title","style"])}}}),pe={key:0,class:"site-description text-$va-c-text text-sm"},me=m({__name:"YunSiteDescription",setup(a){const e=M();return(t,n)=>l(e).description?(o(),c("div",pe,g(l(e).description),1)):u("v-if",!0)}}),fe={key:0,class:"site-subtitle block text-$va-c-text op-80 font-medium",text:"sm"},de=m({__name:"YunSiteSubtitle",setup(a){const e=M();return(t,n)=>l(e).subtitle?(o(),c("h4",fe,g(l(e).subtitle),1)):u("v-if",!0)}}),ve=m({__name:"YunAnimLineDraw",setup(a){const e=b(!1);return I(()=>{e.value=!0}),(t,n)=>(o(),c("div",{class:h(["line",{enter:e.value}])},null,2))}}),he=q(ve,[["__scopeId","data-v-3207662b"]]),be={key:0,class:"site-author-intro",m:"t-0 b-4"},ge=m({__name:"YunAuthorIntro",setup(a){const e=M();return(t,n)=>l(e).author.intro?(o(),c("div",be,g(l(e).author.intro),1)):u("v-if",!0)}}),ye={key:0,class:"line-burst-effects absolute"},$e=m({__name:"LineBurstEffects",props:{delay:{},duration:{}},setup(a){const e=a,t=b(!0);return I(async()=>{await B(e.delay),t.value=!1,await B(e.duration),t.value=!0}),(n,s)=>t.value?u("v-if",!0):(o(),c("div",ye,[(o(),c(k,null,P(8,f=>r("div",{key:f,class:"line"},[...s[0]||(s[0]=[r("div",null,[r("span")],-1)])])),64))]))}}),xe={flex:"~ col",class:"yun-square-container items-center justify-center text-center max-w-2xl"},ke={flex:"~ col",class:"yun-square square-rotate z-1 bg-white/80"},we={class:"py-4 md:py-5 lg:pt-6"},Ye={flex:"~ col",class:"gap-2 items-center justify-center"},Se={class:"scale-x--100 py-4 md:py-5 lg:pb-6"},Ce={class:"mt-4 flex-center w-72 md:w-150 m-auto gap-2",flex:"~ wrap"},Ae=m({__name:"YunPrologueSquare",setup(a){const e=D(),t=b(!1);return(n,s)=>{const f=$e,_=R,d=V,v=ge,p=he,C=G,$=de,Y=me,z=W,A=_e;return o(),c("div",xe,[S(n.$slots,"default",{},void 0,!0),r("div",{flex:"~ col center",class:h(["info-with-avatar relative duration-800 transition-cubic-bezier-ease-in",{show:t.value}])},[i(N,{"enter-from-class":"enter-from","enter-to-class":"enter-to",appear:"",onAfterAppear:s[0]||(s[0]=L=>t.value=!0)},{default:x(()=>[r("div",ke,[i(f,{class:"absolute top-0 left-0 right-0 bottom-0 size-full scale-200",delay:200,duration:400}),i(N,{"enter-from-class":"op-0","enter-to-class":"op-100","enter-active-class":"transition-400 delay-400",appear:""},{default:x(()=>[i(_)]),_:1})])]),_:1}),r("div",{class:h(["info",{show:t.value}])},[i(d,{class:"mt-3"}),i(v),r("div",we,[i(p)]),r("div",Ye,[i(C),i($),i(Y)]),r("div",Se,[i(p)]),i(z),r("div",Ce,[i(A,{page:{name:"博客文章",icon:"i-ri-article-line",url:"/posts/"}}),S(n.$slots,"default",{},void 0,!0),(o(!0),c(k,null,P(l(e).pages,(L,F)=>(o(),y(A,{key:F,page:L},null,8,["page"]))),128))])],2)],2)])}}}),Le=q(Ae,[["__scopeId","data-v-8a507115"]]),Be=m({__name:"YunGoDown",setup(a){return(e,t)=>(o(),c("button",{class:"go-down w-20 bottom-0 text-sm md:bottom-2 md:text-40px","aria-label":"go-down",onClick:t[0]||(t[0]=(...n)=>l(j)&&l(j)(...n))},[...t[1]||(t[1]=[r("div",{"i-ri-arrow-down-s-fill":"","inline-flex":""},null,-1)])]))}}),Ne={class:"banner-char-container"},De={class:"char"},Ie=m({__name:"YunBannerCharContainer",props:{title:{},chars:{}},setup(a){return(e,t)=>(o(),c("div",Ne,[(o(!0),c(k,null,P(a.title,(n,s)=>(o(),c("div",{key:s,class:"char-box"},[r("span",{class:h([s%2!==0?"char-right":"char-left"]),style:E({"--banner-char-size":`${a.chars[s]}rem`})},[r("span",De,g(n),1)],6)]))),128))]))}});function ze(a){const e=w(()=>{const n=[];for(let s=0;s<a.title.length;s++){const f=Z(1.5,3.5);n.push(f)}return n}),t=w(()=>e.value.reduce((n,s)=>n+s,0));return{chars:e,totalCharHeight:t}}const Te={class:"banner-line-container"},Me={class:"banner-line-container bottom"},qe=m({__name:"YunBanner",setup(a){const e=T(),t=D(),{totalCharHeight:n,chars:s}=ze(t.value.banner),f=w(()=>{const p={"--total-char-height":`${n.value}rem`,"--banner-line-height":`calc(var(--banner-height, 100 * var(--vh)) / 2 - ${n.value/2}rem)`,"justify-content":"space-between"};return e.isStrato&&(p.borderBottom="1px solid var(--banner-line-color)"),p}),_=b("enter"),d=w(()=>_.value),v=b("banner");return I(async()=>{await B(500),_.value="active",e.isNimbo&&(await B(500),_.value="exit",v.value="prologue")}),(p,C)=>{const $=Ie,Y=Be;return o(),c("div",{id:"yun-banner",border:"b-1px b-solid b-$banner-line-color",style:E(f.value)},[r("div",Te,[r("div",{class:h(["banner-line vertical-line-top",d.value])},null,2)]),l(e).isNimbo?(o(),c(k,{key:0},[v.value==="banner"?(o(),y($,{key:0,title:l(t).banner.title,chars:l(s)},null,8,["title","chars"])):u("v-if",!0)],64)):u("v-if",!0),l(e).isStrato?(o(),y($,{key:1,title:l(t).banner.title,chars:l(s)},null,8,["title","chars"])):u("v-if",!0),r("div",Me,[r("div",{class:h(["banner-line vertical-line-bottom",d.value])},null,2)]),i(Y)],4)}}}),Ee={class:"absolute top-0 left-5 right-5 bottom-0 flex-center"},Je=m({__name:"home",setup(a){const e=T(),t=X(),n=D(),s=w(()=>t.path.startsWith("/page")),f=w(()=>{const _=n.value.notice;return _.enable&&(s.value?!_.hideInPages:!0)});return(_,d)=>{const v=qe,p=Le,C=ue,$=ae,Y=te,z=U("RouterView"),A=J,L=O;return o(),c(k,null,[i(A,{class:h(["items-center flex-col",{"mt-0!":!s.value}])},{default:x(()=>[s.value?u("v-if",!0):(o(),c(k,{key:0},[i(v),i(N,{"enter-from-class":"scale-60","enter-to-class":"scale-100","enter-active-class":"transition-300 transition-cubic-bezier-ease-in-out delay-1000",appear:""},{default:x(()=>[r("div",Ee,[i(N,{"enter-from-class":"op-0","enter-to-class":"op-100","enter-active-class":"transition-800 delay-1000",appear:""},{default:x(()=>[i(p,{class:"z-1"})]),_:1})])]),_:1}),l(n).say.enable?(o(),y(C,{key:0,w:"full"})):u("v-if",!0),l(e).isNimbo?(o(),y($,{key:1,class:"absolute left-0 top-0 right-0 bottom-0"})):u("v-if",!0)],64)),f.value?(o(),y(Y,{key:1,class:h(["mb-2 md:mb-6",{"mt-4":!s.value}]),content:l(n).notice.content},null,8,["class","content"])):u("v-if",!0),S(_.$slots,"board"),S(_.$slots,"default",{},()=>[i(z)])]),_:3},8,["class"]),i(L)],64)}}});export{Je as default};
