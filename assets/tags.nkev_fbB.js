import{m as j,T as k,d as H,e as J,u as O,a as U,c as X,b as Z,_ as G,n as K,f as Q,g as tt,h as et}from"./app.DNo6EpXn.js";import{_ as nt}from"./YunPostCollapse.vue_vue_type_style_index_0_lang.i0KzsgQr.js";import{u as at,a as st}from"./animation.C241oeFc.js";import{M as R,aU as V,u as $,aL as c,v as f,bb as S,q as C,aZ as ot,I as t,bJ as n,s as T,a$ as rt,t as it,g as ct,bk as a,F as P,aX as lt,aw as ut}from"./framework.CNV3Xz51.js";import{_ as mt}from"./YunPageHeader.vue_vue_type_script_setup_true_lang.7oVnMNS8.js";import{a as pt,u as _t}from"./chunks/vue-router.Bri7Tm3H.js";import"./chunks/dayjs.o6Yvz3Rh.js";import{u as ft}from"./chunks/vue-i18n.B3U7zzgP.js";import"./chunks/pinia.BouEHZ11.js";import"./chunks/@vueuse/motion.BVRzfI4R.js";import"./chunks/nprogress.BWxlRuO9.js";import"./index.BRXJGymZ.js";function gt(s={primary:"#0078E7"}){const o=j(),r=new k("#999999"),u=new k(s.primary);return{tags:o,getTagStyle:i=>{const p=Array.from(o.value).map(([d,h])=>h.count),g=Math.max(...p),e=Math.min(...p),y=g-e,_=(i-e)/y;return{"--yun-tag-color":r.mix(u,_*100).toString(),fontSize:`${_*36+12}px`}}}}const yt={"inline-flex":""},dt={"inline-flex":"",text:"xs"},ht=R({__name:"YunLayoutPostTag",props:{i:{},title:{},count:{}},setup(s){const o=s,r=V();return at(r,{i:o.i||0,delay:25}),(u,m)=>(c(),$("span",{ref_key:"tagRef",ref:r,"inline-flex":"",my:"2",p:"1",class:"post-tag cursor-pointer items-baseline leading-4"},[f("span",yt,"#"+S(s.title),1),f("span",dt,"["+S(s.count)+"]",1)],512))}}),vt={class:"yun-text-light",text:"center",p:"2"},xt={class:"justify-center items-end",flex:"~ wrap",gap:"1"},Bt=R({__name:"tags",setup(s){H([J({"@type":"CollectionPage"})]);const o=pt(),r=_t(),u=O(),{t:m}=ft(),i=U(),{tags:p,getTagStyle:g}=gt({primary:u.value.colors.primary}),e=C(()=>o.query.tag||""),y=X(),_=C(()=>y.postList.filter(l=>l.tags?typeof l.tags=="string"?l.tags===e.value:l.tags.includes(e.value):!1)),d=V(),{show:h}=st(d);function A(v){r.push({query:{tag:v}}),h()}const B=Z(i),Y=C(()=>Array.from(p.value).sort());return(v,l)=>{const F=G,b=mt,q=ht,w=ot("RouterView"),E=nt,I=K,M=Q,N=tt,z=et;return c(),$(P,null,[t(N,null,{default:n(()=>[t(F),t(w,null,{default:n(({Component:D})=>[(c(),T(rt(D),null,{"main-header":n(()=>[t(b,{title:a(B)||a(m)("menu.tags"),icon:a(i).icon||"i-ri-tag-line",color:a(i).color,"page-title-class":a(i).pageTitleClass},null,8,["title","icon","color","page-title-class"])]),"main-content":n(()=>[t(ct,{"enter-active-class":"animate-fade-in animate-duration-400",appear:""},{default:n(()=>[f("div",vt,S(a(m)("counter.tags",Y.value.length)),1)]),_:1}),f("div",xt,[(c(!0),$(P,null,lt(Y.value,([x,L],W)=>(c(),T(q,{key:x,i:W,title:x,count:L.count,style:ut(a(g)(L.count)),onClick:Ct=>A(x.toString())},null,8,["i","title","count","style","onClick"]))),128))]),t(w)]),"main-nav-before":n(()=>[e.value?(c(),T(I,{key:0,ref_key:"collapse",ref:d,m:"t-4",w:"full"},{default:n(()=>[t(b,{title:e.value,icon:"i-ri-hashtag"},null,8,["title"]),t(E,{w:"full",m:"b-4",p:"x-20 lt-sm:x-5",posts:_.value},null,8,["posts"])]),_:1},512)):it("v-if",!0)]),_:1}))]),_:1}),t(M)]),_:1}),t(z)],64)}}});export{Bt as default};
